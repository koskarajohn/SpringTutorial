<!DOCTYPE html>
<html>
  <head>
    <title>Spring Beans</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link href="https://fonts.googleapis.com/css?family=Saira+Extra+Condensed:100,200,300,400,500,600,700,800,900" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i" rel="stylesheet">
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/index.css">
    
    <script src="../js/jquery.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
  </head>

  <body>

    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-primary" id="sideNav">

        <a class="navbar-brand" href="../index.html">
            <span>Learn Spring</span>
        </a>

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false">
                <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarContent">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="spring.html">Spring</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="spring-container.html">Spring IoC Container</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="spring-beans.html">Spring Beans</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="dependency-injection.html">Dependency Injection</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="annotations.html">Annotations</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="spring-boot.html">Spring Boot</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="spring-mvc.html">Spring MVC</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="rest-api.html">REST API</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="step2.html">Βημα 2</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="step3.html">Βημα 3</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="step4.html">Βημα 4</a>
                </li>    
                <li class="nav-item">
                    <a class="nav-link" href="step5.html">Βημα 5</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="step6.html">Βημα 6</a>
                </li>  

            </ul>
        </div>
    </nav>

    <div class="container-fluid content">

        <section class="intro">
            <h1 class="text-center">Spring Beans</h1>

            <p>Στο Spring, τα αντικείμενα που αποτελούν τη ραχοκοκαλιά της εφαρμογής και διαχειρίζονται από το Spring IoC Container
                λέγονται <span class="bold">beans</span>. Το bean είναι <span class="bold">ένα αντικείμενο</span>, το οποίο αρχικοποιείται, δημιουργείται 
                και διαχείριζεται από το <span class="bold">Spring IoC container</span>. Αλλιώς, είναι ένα από τα πολλά αντικείμενα τις εφαρμογής.
            </p>

            <p>
                Μέσα στο Spring Container, τα <span class="bold">bean</span> definitions αναπαρίστανται ως <span class="bold">BeanDefinititon</span> αντικείμενα, τα οποία περιέχουν τα ακόλουθα
                μεταδεδομένα :
                <ul>
                    <li>Ένα package-qualified <span class="bold">όνομα κλάσης</span> : συνήθως της πραγματικής κλάσης-υλοποίησης του bean, το οποίο ορίζεται.</li>
                    <li>Συμπεριφορικά <span class="bold">στοιχεία ρυθμίσεων</span> του bean, τα οποία περιέχουν πως πρέπει, να συμπεριφέρεται το bean στο container(
                        scope, lifecycle callbacks)
                    </li>
                    <li><span class="bold">Αναφορές</span> σε άλλα beans, τα οποία χρειάζονται, για να δουλέψει το bean. Οι αναφορές λέγονται και collaborators ή εξαρτήσεις.</li>
                    <li>Άλλες ρυθμίσεις που χρειάζεται το bean.</li>
                </ul>
            </p>   

        </section>

        <section class="naming">
            <h5 class="text-center">Ονομασία των beans</h5>

            <p>Κάθε <span class="bold">bean</span> έχει ένα ή περισσότερα <span class="bold">αναγνωριστικά</span>. Τα αναγνωριστικά πρέπει, να είναι <span class="bold">μοναδικά μέσα στο container</span>
                , το οποίο φιλοξενεί το bean. Συνήθως κάθε bean έχει ένα μόνο αναγνωριστικό.
            </p>

            <p>Στη περίπτωση του <span class="bold">XML configuration</span>, χρησιμοποιούμε το <span class="bold">id attribute</span>, το <span class="bold">name attribute</span>  ή και τα δύο για το αναγνωριστικό του bean.
                Το id attribute μας επιτρέπει, να δηλώσουμε ένα μόνο id. Τα ονόματα μπορούν, να περιέχουν απλούς χαρακτήρες <span class="highlight">('myBean')</span>, αλλά και ειδικούς χαρακτήρες.
                Στην περιπτώση των annotations, δηλώνουμε το αναγνωριστικό στην παράμετρο, που παίρνουν :  <span class="highlight">@Component('myBean')</span>, 
                <span class="highlight">@Bean('myBean')</span>, <span class="highlight">@Service('myBean')</span> κλπ.
            </p>

            <p>Η δήλωση αναγνωριστικού για το bean <span class="bold">δεν είναι υποχρεωτική</span>. Εάν δηλώσουμε ρητά το id ή το name, το container παράγει ένα μοναδικό όνομα για το bean.
                Εάν θέλουμε, να αναφερθούμε στο bean μέσω ονόματος,χρησιμοποιώντας το ref element, τότε πρέπει, δώσουμε ένα όνομα.
            </p>

            <h5 class="text-center mt-4">Κανόνας ονοματοσίας των beans</h5>

            <p>Ο κανόνας ονομασίας των beans είναι αυτός, οποίος χρησιμοποιεί και η Java για τα πεδία των κλάσεων. Τα ονόματα των beans ξεκινάνε με μικρό γράμμα και
                είναι camel-cased απο κεί και πέρα. Για παράδειγμα, <span class="highlight">accountService</span>, <span class="highlight">loginController</span>.
            </p>
        </section>

        <section class="scope">
            <h5 class="text-center">Bean Scopes</h5>

            <p>Όταν δημιουργούμε ένα bean definition, δημιουργούμε μια συνταγή για τη δημιουργία πραγματικών στιγμιοτύπων της κλάσης, η οποία
                ορίζεται στο bean definition. Η ιδέα ότι ένα bean definition είναι μια συνταγή, είναι σημαντική επειδή σημαίνει πως όπως και με την κλαση,
                μπορούμε να δημιουργήσουμε πολλά στιγμιότυπα από την ίδια συνταγή.
            </p>
,
            <p>Μπορούμε να ρυθμίσουμε τις διάφορες εξαρτήσεις και τις τιμές των ρυθμίσεων, οι οποίες θα εισαχθούν σε ένα αντικείμενο, που
                θα δημιουργηθεί από μια συγκεκριμένη συνταγή και το scope του αντικένου αυτόυ. To Spring υποστηρίζει διάφορα είδη scope
            </p>

            <table class="scope">
                <tr>
                    <th>Scope</th>
                    <th>Περιγραφή</th>
                </tr>
                <tr>
                    <td><span class="highlight">Singleton</span></td>
                    <td>Το Spring Container δημιουργεί ένα μοναδικό στιγμιότυπο και επιστρέφει αυτό, κάθε φορά που πραγματοποιείται ένα αίτημα
                            για ένα αντικείμενο με το ίδιο id.</td>
                </tr>
                <tr>
                    <td><span class="highlight">Prototype</span></td>
                    <td>Το Spring Container επιστρέφει ένα καινούριο στιγμιότυπο, κάθε φορά που πραγματοποιείται ένα αίτημα για ένα συγκεκριμένο αντικείμενο.</td>
                </tr>
                <tr>
                    <td><span class="highlight">Request</span></td>
                    <td>Το Spring Container επιστρέφει ένα καινούριο στιγμιότυπο, κάθε φορά που ο client πραγμοτοποιεί ένα HTTP αίτημα.</td>
                </tr>
                <tr>
                    <td><span class="highlight">Session</span></td>
                    <td>Το Spring Container επιστρέφει ένα καινούριο στιγμιότυπο, για κάθε session του χρήστη.</td>
                </tr>
            </table>

        </section>

        <section class="define-scopes">

            <h5 class="text-center">Πως δηλώνουμε το bean scope</h5>

            <h6 class="heading">1. Με XML</h6>

            <pre>
            <code>
                &#60;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">UTF-8"</span> ?&#62;
                &#60;beans xmlns=<span class="string">"http://www.springframework.org/schema/beans"</span>

                &emsp;&emsp;&emsp;&emsp;xmlns:xsi=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span>
                &emsp;&emsp;&emsp;&emsp;xsi:schemaLocation=<span class="string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&#62;

                &emsp;&emsp;&emsp;&emsp;&#60;bean id=<span class="string">"demoBean"</span> class=<span class="string">"com.test.Demo"</span> scope=<span class="string">"session"</span>&#62;&#60;/bean&#62;
                &#60;/beans&#62;
             </code>
            </pre>

            <h6 class="heading">2. Με annotation</h6>

            <pre>
               <code>
                <span class="annotation">@Component(<span class="string">"demoBean"</span>) </span>
                <span class="annotation">@Scope(<span class="string">"prototype"</span>) </span>
                <span class="keyword">public class</span> Demo {

                    &emsp;&emsp;&emsp;&emsp;<span class="keyword">public void</span> sayHello(String name){
                    &emsp;&emsp;&emsp;&emsp;&emsp;&emsp; System.out.println(<span class="string">"Hello "</span> + name);
                    &emsp;&emsp;&emsp;&emsp;}

                }
               </code>
           </pre>
        </section>
        
    </div>

  </body>
</html>
