<!DOCTYPE html>
<html>
  <head>
    <title>Spring Beans</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/index.css">
    
    <script src="../js/jquery.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
  </head>

  <body>

     <nav class="navbar navbar-expand-md fixed-top" id="mainNav">

        <div class="container">
            <a class="navbar-brand" href="index.html">SpringTutorial</a>

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false">
                <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarContent">
            <ul class="navbar-nav ml-5">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarSpring" data-toggle="dropdown">Spring</a>
                    <ul class="dropdown-menu">
                        <li> <a class="dropdown-item" href="spring.html">What is Spring</a> </li>  
                        <li><a class="dropdown-item" href="spring-container.html">Spring IoC Container</a>  </li>  
                        <li>  <a class="dropdown-item" href="spring-beans.html">Spring Beans</a> </li> 
                        <li> <a class="dropdown-item" href="dependency-injection.html">Dependency Injection</a>  </li> 
                        <li> <a class="dropdown-item" href="annotations.html">Annotations</a> </li>  
                        <li> <a class="dropdown-item" href="spring-boot.html">Spring Boot</a> </li>  
                        <li> <a class="dropdown-item" href="spring-mvc.html">Spring Mvc</a> </li>  
                        <li>  <a class="dropdown-item" href="spring-security.html">Spring Security</a> </li> 
                        <li> <a class="dropdown-item" href="rest-api.html">Rest API</a>  </li> 
                        <li><a class="dropdown-item" href="application-properties.html">Application Properties</a>  </li>  
                    </ul>
                </li>
                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" id="navbarJpa" data-toggle="dropdown">JPA</a>
                  <ul class="dropdown-menu">
                       <li> <a class="dropdown-item" href="jpa.html">JPA</a> </li>       
                       <li>  <a class="dropdown-item" href="spring-data-jpa.html">Spring Data Jpa</a> </li>      
                  </ul>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarSetup" data-toggle="dropdown">Setup εφαρμογης</a>
                    <ul class="dropdown-menu">
                      <li> <a class="dropdown-item" href="app-architecture.html">Αρχιτεκτονική εφαρμογής</a> </li>        
                      <li>  <a class="dropdown-item" href="spring-tool-suite.html">Spring Tool Suite</a> </li>       
                      <li> <a class="dropdown-item" href="heroku.html">Heroku</a>  </li>       
                      <li>  <a class="dropdown-item" href="postgresql.html">Postgres</a> </li>       
                      <li> <a class="dropdown-item" href="amazon-s3.html">Amazon S3</a> </li>        
                      <li>  <a class="dropdown-item" href="angular.html">Angular</a> </li>      
                      <li> <a class="dropdown-item" href="create-frontend.html">Δημιουργία Frontend</a>   </li>      
                      <li>  <a class="dropdown-item" href="visual-studio-code.html">Visual Studio Code</a> </li>      
                    </ul>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarCreateApp" data-toggle="dropdown">Κώδικας εφαρμογης</a>
                    <ul class="dropdown-menu">
                        <li class="nav-item dropleft submenu">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarSpring" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Spring</a>
                            <ul class="dropdown-menu">
                                <li> <a class="dropdown-item" href="jpa-configuration.html">Ρύθμιση βάσης δεδομένων και JPA</a> </li>  
                                <li>  <a class="dropdown-item" href="amazons3-configuration.html">Ρύθμιση Amazon S3</a> </li>     
                                <li>  <a class="dropdown-item" href="upload-images.html">Ανέβασμα εικόνων στο Amazon S3</a> </li>   
                                <li>  <a class="dropdown-item" href="create-tables-for-products.html">Δημιουργία πινάκων products, categories, brands, product_images, inventory</a> </li>    
                               <li> <a class="dropdown-item" href="create-components-products.html">Δημιουργία repositories, services για τους πίνακες brands, categories...</a> </li>      
                               <li> <a class="dropdown-item" href="insert-products.html">Δημιουργία controller,repository, service για την εισαγωγή προϊόντων</a> </li>     
                                <li>  <a class="dropdown-item" href="create-tables-deals.html">Δημιουργία πινάκων deals, deal_images</a> </li>    
                               <li> <a class="dropdown-item" href="create-components-deals.html">Δημιουργία controller,repository, service για την ανάκτηση προσφορών</a> </li>  
                            </ul>
                        </li>
                       
                        <li class="nav-item dropleft submenu">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarAngular" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Spring - Angular</a>
                            <ul class="dropdown-menu">
                               <li> <a class="dropdown-item" href="angular-routes.html">Angular - Routes</a> </li>     
                               <li>  <a class="dropdown-item" href="create-common-components.html">Angular - Components my-footer, shop-services, navigation-bar και product</a> </li>     
                               <li>  <a class="dropdown-item" href="create-index-page.html">Angular - index-page</a> </li>    
                               <li> <a class="dropdown-item" href="create-component-product-page.html">Angular - product-page</a> </li>      
                               <li>  <a class="dropdown-item" href="create-component-category.html">Angular - category-page</a> </li>    
                               <li>  <a class="dropdown-item" href="create-component-sidebar.html">Angular - category-sidebar</a> </li>     
                              <li>    <a class="dropdown-item" href="refresh-category-products.html">Angular - ανανέωση προϊόντων κατηγορίας</a></li>   
                              <li>  <a class="dropdown-item" href="spring-security-and-session.html">Spring Security - Spring Session</a> </li>    
                              <li><a class="dropdown-item" href="create-component-register.html">Angular - register-page component</a>  </li>     
                              <li> <a class="dropdown-item" href="create-component-login.html">Angular - login-page, navigation-bar components (είσοδος και αποσύνδεση)</a>  </li>
                              <li> <a class="dropdown-item" href="create-components-cart.html">Angular - cart-page component</a>  </li>
                              <li> <a class="dropdown-item" href="create-component-checkout.html">Angular - checkout-page component</a>  </li>
                              <li> <a class="dropdown-item" href="create-component-order.html">Angular - order-page component</a>  </li>
                              <li> <a class="dropdown-item" href="spring-email.html">Spring Email - αποστολή E-mail</a>  </li>
                            </ul>
                        </li>  
                    </ul>
                </li>

            </ul>
        </div>
      </div>
   
    </nav>

    <div class="container">

        <section class="intro">
            <h1 class="text-center">Spring Beans</h1>

            <p>Στο Spring, τα αντικείμενα που αποτελούν τη ραχοκοκαλιά της εφαρμογής και διαχειρίζονται από το Spring IoC Container
                λέγονται <span class="bold">beans</span>. Το bean είναι <span class="bold">ένα αντικείμενο</span>, το οποίο <span class="bold">αρχικοποιείται</span>, <span class="bold">δημιουργείται</span> 
                και <span class="bold">διαχείριζεται</span> από το <span class="bold">Spring IoC container</span>. Αλλιώς, είναι ένα από τα πολλά αντικείμενα τις εφαρμογής.
            </p>

            <p>
                Μέσα στο Spring Container, τα <span class="bold">bean</span> definitions αναπαρίστανται ως <span class="bold">BeanDefinititon</span> αντικείμενα, τα οποία περιέχουν τα ακόλουθα
                μεταδεδομένα :
                <ul>
                    <li>Ένα package-qualified <span class="bold">όνομα κλάσης</span> : συνήθως της πραγματικής κλάσης-υλοποίησης του bean, το οποίο ορίζεται.</li>
                    <li>Συμπεριφορικά <span class="bold">στοιχεία ρυθμίσεων</span> του bean, τα οποία περιέχουν πως πρέπει, να συμπεριφέρεται το bean στο container(
                        scope, lifecycle callbacks)
                    </li>
                    <li><span class="bold">Αναφορές</span> σε άλλα beans, τα οποία χρειάζονται, για να δουλέψει το bean. Οι αναφορές λέγονται και collaborators ή εξαρτήσεις.</li>
                    <li>Άλλες ρυθμίσεις που χρειάζεται το bean.</li>
                </ul>
            </p>   

        </section>

        <section class="naming">
            <h5>Ονομασία των beans</h5>

            <p>Κάθε <span class="bold">bean</span> έχει ένα ή περισσότερα <span class="bold">αναγνωριστικά</span>. Τα αναγνωριστικά πρέπει, να είναι <span class="bold">μοναδικά μέσα στο container</span>
                , το οποίο φιλοξενεί το bean. Συνήθως κάθε bean έχει ένα μόνο αναγνωριστικό.
            </p>

            <p>Στη περίπτωση του <span class="bold">XML configuration</span>, χρησιμοποιούμε το <span class="bold">id attribute</span>, το <span class="bold">name attribute</span>  ή και τα δύο για το αναγνωριστικό του bean.
                Το id attribute μας επιτρέπει, να δηλώσουμε ένα μόνο id. Τα ονόματα μπορούν, να περιέχουν απλούς χαρακτήρες ('myBean'), αλλά και ειδικούς χαρακτήρες.
                Στην περιπτώση των annotations, δηλώνουμε το αναγνωριστικό στην παράμετρο, που παίρνουν :  <span class="code">@Component('myBean')</span>, 
                <span class="code">@Bean('myBean')</span>, <span class="code">@Service('myBean')</span> κλπ.
            </p>

            <p>Η δήλωση αναγνωριστικού για το bean <span class="bold">δεν είναι υποχρεωτική</span>. Εάν δηλώσουμε ρητά το id ή το name, το container παράγει ένα μοναδικό όνομα για το bean.
                Εάν θέλουμε, να αναφερθούμε στο bean μέσω ονόματος,χρησιμοποιώντας το ref element, τότε πρέπει, δώσουμε ένα όνομα.
            </p>

            <h5 class="mt-4">Κανόνας ονοματοσίας των beans</h5>

            <p>Ο κανόνας ονομασίας των beans είναι αυτός, οποίος χρησιμοποιεί και η Java για τα πεδία των κλάσεων. Τα ονόματα των beans ξεκινάνε με μικρό γράμμα και
                είναι camel-cased απο κεί και πέρα. Για παράδειγμα, <span class="bold">accountService</span>, <span class="bold">loginController</span>.
            </p>
        </section>

        <section class="scope">
            <h5>Bean Scopes</h5>

            <p>Όταν δημιουργούμε ένα bean definition,  <span class="bold">δημιουργούμε μια συνταγή για τη δημιουργία πραγματικών στιγμιοτύπων</span> της κλάσης, η οποία
                ορίζεται στο bean definition. Η ιδέα ότι ένα bean definition είναι μια συνταγή, είναι σημαντική επειδή σημαίνει πως όπως και με την κλαση,
                μπορούμε να δημιουργήσουμε πολλά στιγμιότυπα από την ίδια συνταγή.
            </p>

            <p>Μπορούμε να <span class="bold">ρυθμίσουμε τις διάφορες εξαρτήσεις και τις τιμές των ρυθμίσεων</span>, οι οποίες θα εισαχθούν σε ένα αντικείμενο, που
                θα δημιουργηθεί από μια συγκεκριμένη συνταγή και το scope του αντικένου αυτόυ. To Spring υποστηρίζει διάφορα είδη scope
            </p>

            <table class="scope">
                <tr>
                    <th>Scope</th>
                    <th>Περιγραφή</th>
                </tr>
                <tr>
                    <td><span class="highlight">Singleton</span></td>
                    <td>Το Spring Container δημιουργεί ένα μοναδικό στιγμιότυπο και επιστρέφει αυτό, κάθε φορά που πραγματοποιείται ένα αίτημα
                            για ένα αντικείμενο με το ίδιο id.</td>
                </tr>
                <tr>
                    <td><span class="highlight">Prototype</span></td>
                    <td>Το Spring Container επιστρέφει ένα καινούριο στιγμιότυπο, κάθε φορά που πραγματοποιείται ένα αίτημα για ένα συγκεκριμένο αντικείμενο.</td>
                </tr>
                <tr>
                    <td><span class="highlight">Request</span></td>
                    <td>Το Spring Container επιστρέφει ένα καινούριο στιγμιότυπο, κάθε φορά που ο client πραγμοτοποιεί ένα HTTP αίτημα.</td>
                </tr>
                <tr>
                    <td><span class="highlight">Session</span></td>
                    <td>Το Spring Container επιστρέφει ένα καινούριο στιγμιότυπο, για κάθε session του χρήστη.</td>
                </tr>
            </table>

        </section>

        <section class="define-scopes">

            <h5>Πως δηλώνουμε το bean scope</h5>

            <h6 class="heading">1. Με XML</h6>

            <pre>
            <code>
                &#60;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">UTF-8"</span> ?&#62;
                &#60;beans xmlns=<span class="string">"http://www.springframework.org/schema/beans"</span>

                &emsp;&emsp;&emsp;&emsp;xmlns:xsi=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span>
                &emsp;&emsp;&emsp;&emsp;xsi:schemaLocation=<span class="string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&#62;

                &emsp;&emsp;&emsp;&emsp;&#60;bean id=<span class="string">"demoBean"</span> class=<span class="string">"com.test.Demo"</span> scope=<span class="string">"session"</span>&#62;&#60;/bean&#62;
                &#60;/beans&#62;
             </code>
            </pre>

            <h6 class="heading">2. Με annotation</h6>

            <pre>
               <code>
                <span class="annotation">@Component(<span class="string">"demoBean"</span>) </span>
                <span class="annotation">@Scope(<span class="string">"prototype"</span>) </span>
                <span class="keyword">public class</span> Demo {

                    &emsp;&emsp;&emsp;&emsp;<span class="keyword">public void</span> sayHello(String name){
                    &emsp;&emsp;&emsp;&emsp;&emsp;&emsp; System.out.println(<span class="string">"Hello "</span> + name);
                    &emsp;&emsp;&emsp;&emsp;}

                }
               </code>
           </pre>
        </section>

        <section class="references">

            <h5>Πηγές</h5>

            <ul>
                <li><a href="https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#beans-definition">Spring Framework Documentation - Core - 1.3. Bean Overview</a></li>
            </ul>
        </section>
        
    </div>

  </body>
</html>
